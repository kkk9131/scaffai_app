# ScaffAI - è¶³å ´å‰²ä»˜æ”¯æ´ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

> è¶³å ´äº‹æ¥­è€…å‘ã‘ã®çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ 

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

ScaffAIã¯ã€è¶³å ´äº‹æ¥­è€…ãŒ**æœ€çŸ­5åˆ†**ã§è‡ªç¤¾æ¡ˆä»¶ã®è¶³å ´æ§‹æˆãƒ»è¦‹ç©ãƒ»å›³é¢ã‚’ä½œæˆã§ãã‚‹Web+ãƒ¢ãƒã‚¤ãƒ«çµ±åˆã‚¢ãƒ—ãƒªã§ã™ã€‚

### ä¸»ãªç‰¹å¾´
- ğŸ—ï¸ **è‡ªå‹•è¶³å ´è¨ˆç®—**: é«˜åº¦ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã‚ˆã‚‹æœ€é©é…ç½®
- ğŸ“± **ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **: Web + iOS/Androidå¯¾å¿œ
- ğŸ’¾ **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ**: ç¾å ´â‡„äº‹å‹™æ‰€ã§ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹é€£æº
- ğŸ’³ **ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³**: RevenueCatçµ±åˆæ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ 
- ğŸ” **ã‚»ã‚­ãƒ¥ã‚¢**: Supabase + RLSå®Œå…¨å¯¾å¿œ

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### Turborepo ãƒ¢ãƒãƒ¬ãƒæ§‹æˆ
```
scaffai-unified/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ mobile/          # Expo 53 + React Native
â”‚   â””â”€â”€ web/             # Next.js 15 + React
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ database/        # Supabase ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ types/           # å…±é€šå‹å®šç¾©
â”‚   â”œâ”€â”€ utils/           # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ scaffold-engine/ # è¶³å ´è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³
â””â”€â”€ docs/                # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **Frontend**: React 19, Next.js 15, Expo 53
- **Backend**: Supabase (PostgreSQL + Auth + Storage)
- **Payment**: RevenueCat (iOS/Android IAP)
- **Build**: Turborepo + pnpm
- **Language**: TypeScript 5.8

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶
- Node.js 18+
- pnpm 9+
- Expo CLI

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/kkk9131/scaffai_app.git
cd scaffai_app

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pnpm install

# ç’°å¢ƒå¤‰æ•°è¨­å®š
cp .env.example .env.local
# Supabase URLã¨ã‚­ãƒ¼ã‚’è¨­å®š

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pnpm dev
```

### å„ã‚¢ãƒ—ãƒªã®èµ·å‹•
```bash
# Webç‰ˆ (localhost:3000)
pnpm dev:web

# Mobileç‰ˆ (Expo)
pnpm dev:mobile

# å…¨ä½“ãƒ“ãƒ«ãƒ‰
pnpm build
```

## ğŸ“± ã‚¢ãƒ—ãƒªæ¦‚è¦

### Mobile MVPæ©Ÿèƒ½
- âœ… èªè¨¼ï¼ˆãƒ¡ãƒ¼ãƒ«ãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼‰
- âœ… ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³æ±ºæ¸ˆ
- âœ… è¶³å ´è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³
- â³ PDFå‡ºåŠ›ãƒ»è¦‹ç©æ›¸
- âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¿å­˜ãƒ»å±¥æ­´

### Webç‰ˆæ©Ÿèƒ½
- âœ… å›³é¢ä½œå›³ï¼ˆKonva.jsï¼‰
- â³ å›³é¢ã‚¹ã‚­ãƒ£ãƒ³ãƒ»ãƒ™ã‚¯ã‚¿ãƒ¼åŒ–
- â³ è‡ªå‹•è¶³å ´å‰²ä»˜
- â³ CADå‡ºåŠ›ï¼ˆDXF/SVG/PNGï¼‰
- âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†

## ğŸ’³ èª²é‡‘ã‚·ã‚¹ãƒ†ãƒ 

### ãƒ—ãƒ©ãƒ³æ§‹æˆ
| ãƒ—ãƒ©ãƒ³ | æœˆé¡ | å¹´é¡ | æ©Ÿèƒ½ |
|--------|------|------|------|
| **Free** | Â¥0 | - | åŸºæœ¬è¨ˆç®—ã®ã¿ |
| **Pro** | Â¥2,980 | Â¥29,800 | å…¨æ©Ÿèƒ½ + å›³é¢å‡ºåŠ› |
| **Enterprise** | Â¥9,800 | Â¥98,000 | ç„¡åˆ¶é™ + API ã‚¢ã‚¯ã‚»ã‚¹ |

### æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ 
- **Mobile**: RevenueCat (Apple/Google IAP)
- **Web**: Stripe (æº–å‚™ä¸­)
- **åŒæœŸ**: Supabase Webhooks

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

### ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«
- `users` - ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãƒ»ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³çŠ¶æ…‹
- `projects` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†
- `drawings` - å›³é¢ãƒ‡ãƒ¼ã‚¿ï¼ˆDXF/SVGï¼‰
- `conditions` - è¶³å ´æ¡ä»¶è¨­å®š
- `calculations` - è¨ˆç®—çµæœãƒ»éƒ¨æãƒªã‚¹ãƒˆ
- `subscriptions` - ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³è©³ç´°

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **RLS**: Row Level Securityå®Œå…¨å®Ÿè£…
- **èªè¨¼**: Supabase Auth (JWT)
- **æ¨©é™**: ãƒ¦ãƒ¼ã‚¶ãƒ¼å˜ä½ãƒ‡ãƒ¼ã‚¿åˆ†é›¢

## ğŸ§® è¶³å ´è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³

### ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
1. **åŸºæº–å‰²ä»˜**: èº¯ä½“é•· Ã· 1800mm
2. **ä½™é•·å‡¦ç†**: è»’ã®å‡º + å¢ƒç•Œåˆ¶ç´„
3. **æœ€é©åŒ–**: éƒ¨æã‚³ã‚¹ãƒˆãƒ»å®‰å…¨æ€§è€ƒæ…®
4. **å‡ºåŠ›**: éƒ¨æãƒªã‚¹ãƒˆãƒ»æ®µæ•°ãƒ»é«˜ã•

### å¯¾å¿œæ©Ÿèƒ½
- âœ… åŸºæœ¬å‰²ä»˜è¨ˆç®—
- âœ… è»’ã®å‡ºãƒ»å¢ƒç•Œåˆ¶ç´„
- âœ… è¤‡é›‘ãªæœ€é©åŒ–ãƒ­ã‚¸ãƒƒã‚¯
- â³ å…¥éš…ãƒ»å±‹æ ¹è£œæ­£
- â³ AIææ¡ˆæ©Ÿèƒ½

## ğŸ“„ APIä»•æ§˜

### èªè¨¼
```typescript
// ãƒ­ã‚°ã‚¤ãƒ³
POST /auth/login
{
  "email": "user@example.com",
  "password": "password"
}

// ãƒ¬ã‚¹ãƒãƒ³ã‚¹
{
  "access_token": "jwt_token",
  "user": { ... }
}
```

### è¨ˆç®—API
```typescript
// è¶³å ´è¨ˆç®—å®Ÿè¡Œ
POST /api/calculate
{
  "building_length": 12000,
  "building_width": 8000,
  "eave_depth": 600,
  "boundaries": { ... }
}

// ãƒ¬ã‚¹ãƒãƒ³ã‚¹
{
  "result": {
    "spans": 7,
    "levels": 3,
    "materials": [...],
    "total_cost": 150000
  }
}
```

## ğŸ”§ é–‹ç™ºãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

### é–‹ç™ºç’°å¢ƒ
```bash
# å‹ãƒã‚§ãƒƒã‚¯
pnpm typecheck

# ãƒªãƒ³ãƒˆ
pnpm lint

# ãƒ†ã‚¹ãƒˆ
pnpm test

# ãƒ“ãƒ«ãƒ‰
pnpm build
```

### ãƒ‡ãƒ—ãƒ­ã‚¤
- **Web**: Vercelè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
- **Mobile**: EAS Build + TestFlight/Play Store
- **Database**: Supabaseç®¡ç†

## ğŸ“‹ ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 1: Mobile MVP (3é€±é–“)
- [x] èªè¨¼ãƒ»æ±ºæ¸ˆåŸºç›¤
- [x] è¶³å ´è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³
- [x] ãƒ‡ãƒ¼ã‚¿ä¿å­˜ãƒ»å±¥æ­´
- [ ] PDFå‡ºåŠ›æ©Ÿèƒ½

### Phase 2: Webç‰ˆMVP (4é€±é–“)
- [x] åŸºç›¤æ§‹ç¯‰
- [ ] å›³é¢ä½œå›³æ©Ÿèƒ½
- [ ] ã‚¹ã‚­ãƒ£ãƒ³ãƒ»è‡ªå‹•å‰²ä»˜
- [ ] CADå‡ºåŠ›

### Phase 3: v1.0 (6é€±é–“)
- [ ] é«˜åº¦ãªè¨ˆç®—æ©Ÿèƒ½
- [ ] ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ
- [ ] ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–
- [ ] æœ¬æ ¼é‹ç”¨é–‹å§‹

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. Fork the repository
2. Create feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Open Pull Request

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

This project is proprietary software. All rights reserved.

## ğŸ”— ãƒªãƒ³ã‚¯

- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦ä»¶æ›¸](./docs/scaffai_requirements.md)
- [ãƒªãƒªãƒ¼ã‚¹ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—](./docs/roadmap.md)
- [ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨ˆç”»](./docs/migration_plan.md)

---

**ScaffAI** - è¶³å ´æ¥­ç•Œã®DXã‚’åŠ é€Ÿã™ã‚‹ ğŸš€